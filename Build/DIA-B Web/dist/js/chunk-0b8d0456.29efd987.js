(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b8d0456"],{ab71:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{ref:"user-import-modal",attrs:{id:"user-import-modal","hide-header":"","no-stacking":""},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[s("b-button",{staticClass:"btn btn-success ml-2",staticStyle:{width:"90px"},attrs:{href:"#",tabindex:"0"},on:{click:function(e){return t.goback()}}},[t._v(" Huỷ ")]),s("b-button",{staticClass:"btn btn-success ml-2",attrs:{href:"#",tabindex:"0"},on:{click:function(e){return t.handleClick()}}},[s("span",{staticClass:"svg-icon"},[s("inline-svg",{attrs:{src:"/media/svg/import/tick.svg"}})],1),t._v(" Đồng ý ")])]},proxy:!0}])},[s("div",{staticStyle:{"text-align":"center",margin:"5px",padding:"10px"}},[s("span",{staticClass:"svg-tick"},[s("inline-svg",{staticStyle:{"justify-self":"center"},attrs:{src:"/media/svg/import/alert-circle.svg"}})],1)]),s("div",[s("p",{staticStyle:{"text-align":"center","font-family":"Nunito","font-style":"normal","font-weight":"bold","font-size":"15px","line-height":"20px"}},[t._v("Bạn có muốn Import các khách hàng đủ điều kiện ? ")]),s("p",{staticStyle:{"text-align":"left","font-family":"Nunito","font-style":"normal","font-weight":"normal","font-size":"15px","line-height":"20px",color:"red"}},[t._v("( Lưu ý : Các khách hàng có liên quan đến các bản ghi bị lỗi ở trên sẽ không được thêm )")])])])},n=[],a=(s("fb6a"),s("a9e3"),s("d3b7"),s("96cf"),s("1da1")),i={props:{staff_list:{type:Array,default:function(){return[]}}},name:"Modal",computed:{},watch:{},data:function(){return{isMounted:!1,loading:!1,isSelectFile:!1,form:{},validationState:{},error:{}}},methods:{handleClick:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("context/setLoading",!0),e.next=3,t.addUser().then(t.goback()).finally((function(){t.$store.commit("context/setLoading",!1),t.openModalSuccess()}));case 3:case"end":return e.stop()}}),e)})))()},addUser:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=0;case 1:if(!(s<=Number(t.staff_list.length))){e.next=11;break}return e.next=4,t.$api.post("AccountImport",{headers:{"Content-Type":"application/json"}},{params:{user_name:t.staff_list[s].user_name,user_code:t.staff_list[s].user_code,user_gender:t.staff_list[s].user_gender,user_yearofbirth:t.staff_list[s].user_yearofbirth,user_career:t.staff_list[s].user_career,user_phone:t.staff_list[s].user_phone,user_hoobit:t.staff_list[s].user_hoobit,user_address:t.staff_list[s].user_address,user_province:t.staff_list[s].user_province,story_success:t.staff_list[s].story_success,user_typeofsick:t.staff_list[s].user_typeofsick,year_foundout:t.staff_list[s].year_foundout}});case 4:return e.next=6,t.$api.get("AccountImport/id").then(t.AddSurvey());case 6:case 8:s++,e.next=1;break;case 11:case"end":return e.stop()}}),e)})))()},AddSurvey:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var s,r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.get("AccountImport/id");case 2:s=e.sent,r=0;case 4:if(!(r<=Number(t.staff_list.length))){e.next=12;break}return n=new Date(t.staff_list[r].survey_day).toISOString().slice(0,10),a=new Date(t.staff_list[r].import_day).toISOString().slice(0,10),e.next=9,t.$api.post("SurveyImport",{headers:{"Content-Type":"application/json"}},{params:{user_id:s[r].id,course_goal:t.staff_list[r].course_goal,course_action:t.staff_list[r].course_action,course_final_rate:t.staff_list[r].course_final_rate,participation_package:t.staff_list[r].participation_package,survey_type_code:t.staff_list[r].survey_type_code,survey_type:t.staff_list[r].survey_type,survey_code:t.staff_list[r].survey_code,survey_name:t.staff_list[r].survey_name,import_day:a,survey_day:n}});case 9:r++,e.next=4;break;case 12:case"end":return e.stop()}}),e)})))()},goback:function(){this.$bvModal.hide("user-import-modal")},openModalSuccess:function(){this.$root.$refs.B.clickshow()}}},o=i,c=(s("e75b"),s("2877")),u=Object(c["a"])(o,r,n,!1,null,null,null);e["default"]=u.exports},d957:function(t,e,s){},e75b:function(t,e,s){"use strict";s("d957")}}]);
//# sourceMappingURL=chunk-0b8d0456.29efd987.js.map