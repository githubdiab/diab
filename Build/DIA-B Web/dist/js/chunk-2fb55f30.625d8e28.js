(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fb55f30"],{"3cc9":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"user-import-modal",attrs:{id:"user-import-modal","hide-header":"","no-stacking":""},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[s("b-button",{staticClass:"btn btn-success ml-2",staticStyle:{width:"90px"},attrs:{href:"#",tabindex:"0"},on:{click:function(t){return e.goback()}}},[e._v(" Huỷ ")]),s("b-button",{staticClass:"btn btn-success ml-2",attrs:{href:"#",tabindex:"0"},on:{click:function(t){return e.handleClick()}}},[s("span",{staticClass:"svg-icon"},[s("inline-svg",{attrs:{src:"/media/svg/import/tick.svg"}})],1),e._v(" Đồng ý ")])]},proxy:!0}])},[s("div",{staticStyle:{"text-align":"center"}},[s("span",{staticClass:"svg-tick"},[s("inline-svg",{staticStyle:{"justify-self":"center"},attrs:{src:"/media/svg/import/sss.svg"}})],1)]),s("div",{staticStyle:{"text-align":"center","font-family":"Nunito","font-style":"normal","font-weight":"normal","font-size":"14px"}},[e._v(" "+e._s(this.staff_list.length+"/"+e.staff_list.length)+" bản ghi thỏa mãn điều kiện. Bạn có muốn tiếp tục Import dữ liệu? ")])])},a=[],n=(s("fb6a"),s("a9e3"),s("d3b7"),s("96cf"),s("1da1")),i={name:"Modal",props:{staff_list:{type:Array,default:function(){return[]}}},computed:{},data:function(){return{user_name:"",user_code:"",user_gender:"",user_yearofbirth:"",user_career:"",user_phone:"",user_hoobit:"",user_address:"",user_province:"",story_success:"",user_typeofsick:"",year_foundout:"",course_goal:"",course_action:"",course_final_rate:"",participation_package:"",survey_type_code:"",survey_type:"",survey_code:"",survey_name:"",survey_day:"",import_day:"",user_id:"",survey_id:"",category_code:"",category:"",sub_category_code:"",sub_category:"",question_code:"",question_number:"",question_answer:"",question_result:"",data:[],checkaccount:[]}},methods:{addUser:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=0;case 1:if(!(s<=Number(e.staff_list.length))){t.next=11;break}return t.next=4,e.$api.post("accountimport",{headers:{"Content-Type":"application/json"}},{params:{user_name:e.staff_list[s].user_name,user_code:e.staff_list[s].user_code,user_gender:e.staff_list[s].user_gender,user_yearofbirth:e.staff_list[s].user_yearofbirth,user_career:e.staff_list[s].user_career,user_phone:e.staff_list[s].user_phone,user_hoobit:e.staff_list[s].user_hoobit,user_address:e.staff_list[s].user_address,user_province:e.staff_list[s].user_province,story_success:e.staff_list[s].story_success,user_typeofsick:e.staff_list[s].user_typeofsick,year_foundout:e.staff_list[s].year_foundout}});case 4:return t.next=6,e.$api.get("accountimport/id").then(e.AddSurvey());case 6:case 8:s++,t.next=1;break;case 11:case"end":return t.stop()}}),t)})))()},AddSurvey:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s,r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.get("accountimport/id");case 2:s=t.sent,r=0;case 4:if(!(r<=Number(e.staff_list.length))){t.next=12;break}return a=new Date(e.staff_list[r].survey_day).toISOString().slice(0,10),n=new Date(e.staff_list[r].import_day).toISOString().slice(0,10),t.next=9,e.$api.post("surveyimport",{headers:{"Content-Type":"application/json"}},{params:{user_id:s[r].id,course_goal:e.staff_list[r].course_goal,course_action:e.staff_list[r].course_action,course_final_rate:e.staff_list[r].course_final_rate,participation_package:e.staff_list[r].participation_package,survey_type_code:e.staff_list[r].survey_type_code,survey_type:e.staff_list[r].survey_type,survey_code:e.staff_list[r].survey_code,survey_name:e.staff_list[r].survey_name,import_day:n,survey_day:a}}).catch((function(t){e.$toastr.e({title:"Lỗi",msg:t})}));case 9:r++,t.next=4;break;case 12:case"end":return t.stop()}}),t)})))()},goback:function(){this.$bvModal.hide("user-import-modal")},openModalSuccess:function(){this.$root.$refs.A.clickshow()},handleClick:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$root.$refs.A.SelectFile(),e.$store.commit("context/setLoading",!0),t.next=4,e.addUser().then(e.goback()).finally((function(){e.$store.commit("context/setLoading",!1),e.openModalSuccess()}));case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){}},o=i,c=(s("e0a7"),s("2877")),u=Object(c["a"])(o,r,a,!1,null,null,null);t["default"]=u.exports},"55ea":function(e,t,s){},e0a7:function(e,t,s){"use strict";s("55ea")}}]);
//# sourceMappingURL=chunk-2fb55f30.625d8e28.js.map