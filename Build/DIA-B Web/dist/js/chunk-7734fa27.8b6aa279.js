(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7734fa27"],{f183c:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"user-app-view-page w-100"},[e("basic-subheader",{scopedSlots:t._u([{key:"actions",fn:function(){return[e("b-button",{staticClass:"btn ml-3",attrs:{type:"button"},on:{click:t.returnPage}},[e("span",{staticClass:"svg-icon"},[e("inline-svg",{attrs:{src:"/media/svg/icons/Neolex/Arrows/arrow-left.svg"}})],1),t._v(" Trở về trước ")]),t.userData.isActive&&t.isAdmin?e("b-button",{staticClass:"btn btn-inactive ml-3",attrs:{type:"button"},on:{click:function(a){return t.handleInactive(t.userData)}}},[e("span",{staticClass:"svg-icon"},[e("inline-svg",{attrs:{src:"/media/svg/icons/Neolex/Basic/power.svg"}})],1),t._v(" Inactive ")]):t._e(),!t.userData.isActive&&t.isAdmin?e("b-button",{staticClass:"btn btn-active ml-3",attrs:{type:"button"},on:{click:function(a){return t.handleInactive(t.userData)}}},[e("span",{staticClass:"svg-icon"},[e("inline-svg",{attrs:{src:"/media/svg/icons/Neolex/Basic/power.svg"}})],1),t._v(" Active ")]):t._e(),t.isAdmin?e("b-button",{staticClass:"btn btn-success ml-3",attrs:{type:"button"},on:{click:function(a){return a.stopPropagation(),t.handleUpdate(t.userData)}}},[e("span",{staticClass:"svg-icon"},[e("inline-svg",{attrs:{src:"/media/svg/icons/Neolex/Basic/edit-2.svg"}})],1),t._v(" Chỉnh sửa ")]):t._e()]},proxy:!0}])}),e("b-overlay",{attrs:{show:t.loading}},[e("b-container",{staticClass:"user-app-view-page__body mb-6 mt-6",attrs:{fluid:""}},[e("b-row",[e("b-col",[e("b-row",[e("b-col",[e("div",{staticClass:"card card-custom gutter-b user-info-card"},[e("div",{staticClass:"card-body mt-0"},[e("b-row",[e("b-col",[e("div",{staticClass:"d-flex align-items-center"},[e("avatar",{attrs:{size:"100px",text:t.userData.fullName,src:t.userData.avatar&&t.userData.avatar.url,rounded:!0}}),e("div",{staticClass:"d-flex flex-column ml-5"},[e("h5",{staticStyle:{color:"#515356"}},[t._v(" "+t._s(t.userData.fullName)+" ")]),e("p",{staticClass:"mt-2 mb-0",staticStyle:{"font-size":"12px",color:"#888c9f"}},[t._v(" "+t._s(t.userData.username)+", Mã số: 17 ")]),e("div",{staticClass:"d-flex align-items-center mt-2"},[t.userData.isActive?e("span",{staticClass:"btn btn-active",staticStyle:{width:"95px",cursor:"default"}},[t._v(" Active ")]):t._e(),!1===t.userData.isActive?e("span",{staticClass:"btn btn-inactive",staticStyle:{width:"95px",cursor:"default"}},[t._v(" Inactive ")]):t._e(),e("span",{staticClass:"btn btn-user-app ml-3",staticStyle:{width:"95px",cursor:"default"}},[t._v(" Portal User ")])])])],1)])],1),e("b-row",{staticClass:"mt-8"},[e("b-col",[e("b-row",[e("b-col",[e("div",{staticClass:"text-muted"},[t._v("Tuổi:")]),e("div",[t._v(t._s(t.userData.age))])])],1),e("b-row",[e("b-col",[e("div",{staticClass:"text-muted"},[t._v("Điện thoại:")]),e("div",[t._v(" "+t._s(t.userData.phoneNumber&&t.userData.phoneNumber.replace("+84",0))+" ")])])],1),e("b-row",[e("b-col",[e("div",{staticClass:"text-muted"},[t._v("Điện thoại thay thế:")]),e("div",[t._v(" "+t._s(t.userData.secondPhoneNumber&&t.userData.secondPhoneNumber.replace("+84",0))+" ")])])],1),e("b-row",[e("b-col",[e("div",{staticClass:"text-muted"},[t._v("Email:")]),e("div",[t._v(t._s(t.userData.email))])])],1),e("b-row",[e("b-col",[e("div",{staticClass:"text-muted"},[t._v("Tỉnh thành:")]),e("div",[t._v(t._s(t.userData.province))])])],1),e("b-row",[e("b-col",[e("div",{staticClass:"text-muted"},[t._v("Phường / Xã:")]),e("div",[t._v(t._s(t.userData.ward))])])],1)],1),e("b-col",[e("b-row",[e("b-col",[e("div",{staticClass:"text-muted"},[t._v("Ngày sinh:")]),e("div",[t._v(" "+t._s(t.$moment(1e3*t.userData.dateOfBirth).format("DD/MM/YYYY"))+" ")])])],1),e("b-row",[e("b-col",[e("div",{staticClass:"text-muted"},[t._v("Giới tính:")]),e("div",[t._v(" "+t._s(t.userData.gender)+" ")])])],1),e("b-row",[e("b-col",[e("div",{staticClass:"text-muted"},[t._v("Quốc gia:")]),e("div",[t._v(t._s(t.userData.nation))])])],1),e("b-row",[e("b-col",[e("div",{staticClass:"text-muted"},[t._v("Quận / Huyện:")]),e("div",[t._v(t._s(t.userData.district))])])],1),e("b-row",[e("b-col",[e("div",{staticClass:"text-muted"},[t._v("Địa chỉ:")]),e("div",[t._v(t._s(t.userData.address))])])],1)],1)],1)],1)])])],1),e("b-row",[e("b-col",[e("div",{staticClass:"card card-custom gutter-b user-time-update-card"},[e("div",{staticClass:"card-header h-25"},[e("div",{staticClass:"card-title"},[e("h5",{staticClass:"card-label text-success"},[t._v(" Thời gian cập nhật ")])])]),e("div",{staticClass:"card-body mt-0"},[e("b-row",[e("b-col",[e("b-row",[e("b-col",[e("div",{staticClass:"text-muted"},[t._v("Thời gian tạo:")]),e("div",[t._v(" "+t._s(t.$moment(1e3*t.userData.createDatetime).format("DD/MM/YYYY"))+" ")])])],1),e("b-row",[e("b-col",[e("div",{staticClass:"text-muted"},[t._v("Người tạo:")]),e("div",{staticClass:"d-flex align-items-center mt-2"},[t.userData.creator?e("avatar",{attrs:{size:"40px",text:t.userData.creator.fullName,src:t.userData.creator&&t.userData.creator.avatar?t.userData.creator.avatar.url:null,rounded:!0}}):t._e(),t.userData.creator?e("div",{staticClass:"d-flex flex-column ml-5"},[e("p",{staticClass:"mb-0",staticStyle:{"font-weight":"600","font-size":"13px",color:"#515356"}},[t._v(" "+t._s(t.userData.creator.fullName)+" ")]),e("p",{staticClass:"mt-2 mb-0",staticStyle:{"font-size":"12px",color:"#888c9f"}},[t._v(" "+t._s(t.userData.creator.username)+" ")])]):t._e()],1)])],1)],1),e("b-col",[e("b-row",[e("b-col",[e("div",{staticClass:"text-muted"},[t._v(" Lần cập nhật cuối cùng: ")]),e("div",[t._v(" "+t._s(t.$moment(1e3*t.userData.updateDatetime).format("DD/MM/YYYY"))+" ")])])],1),e("b-row",[e("b-col",[e("div",{staticClass:"text-muted"},[t._v(" Người cập nhật lần cuối: ")]),e("div",{staticClass:"d-flex align-items-center mt-2"},[t.userData.updater?e("avatar",{attrs:{size:"40px",text:t.userData.updater.fullName,src:t.userData.updater&&t.userData.updater.avatar?t.userData.updater.avatar.url:null,rounded:!0}}):t._e(),t.userData.updater?e("div",{staticClass:"d-flex flex-column ml-5"},[e("p",{staticClass:"mb-0",staticStyle:{"font-weight":"600","font-size":"13px",color:"#515356"}},[t._v(" "+t._s(t.userData.updater.fullName)+" ")]),e("p",{staticClass:"mt-2 mb-0",staticStyle:{"font-size":"12px",color:"#888c9f"}},[t._v(" "+t._s(t.userData.updater.username)+" ")])]):t._e()],1)])],1)],1)],1)],1)])])],1)],1),e("b-col",[e("b-row",[e("b-col",[e("div",{staticClass:"card card-custom gutter-b user-patient-condition-card"},[e("div",{staticClass:"card-header h-25"},[e("div",{staticClass:"card-title"},[e("h5",{staticClass:"card-label text-success"},[t._v(" Tham gia 0 nhóm Users ")])])]),e("div",{staticClass:"card-body mt-0"},[e("b-row",[e("b-col",[t.userData.userGroups?e("template-table",{attrs:{column:t.columnUserGroups,data:t.userData.userGroups,tableAction:!1,selectAction:!1,searchAction:!1,pagingAction:!1},scopedSlots:t._u([{key:"body",fn:function(a){var s=a.item;return[e("td",[t._v(" "+t._s(s.name)+" ")])]}}],null,!1,447476004)}):t._e()],1)],1)],1)])])],1),e("b-row",[e("b-col",[e("div",{staticClass:"card card-custom gutter-b user-time-update-card"},[e("div",{staticClass:"card-header h-25"},[e("div",{staticClass:"card-title"},[e("h5",{staticClass:"card-label text-success"},[t._v(" Tham gia 0 nhóm Health Coach ")])])]),e("div",{staticClass:"card-body mt-0"},[e("b-row",[e("b-col",[t.userData.healthCoachGroups?e("template-table",{attrs:{column:t.columnHealthCoachGroups,data:t.userData.healthCoachGroups,tableAction:!1,selectAction:!1,searchAction:!1,pagingAction:!1},scopedSlots:t._u([{key:"body",fn:function(a){var s=a.item;return[e("td",[t._v(" "+t._s(s.name)+" ")]),e("td",[t._v(" "+t._s(s.members)+" ")])]}}],null,!1,2212796242)}):t._e()],1)],1)],1)])])],1)],1)],1)],1)],1)],1)},r=[],i=(e("99af"),e("caad"),e("2532"),e("96cf"),e("1da1")),c=e("5530"),n=e("2f62"),l={props:{id:{type:String,default:null}},data:function(){return{loading:!1,isFirstLoad:!1,userData:{},columnUserGroups:[{key:"name",label:"Tên Nhóm User",sortable:!1}],columnHealthCoachGroups:[{key:"name",label:"Nhóm Health Coach",sortable:!1},{key:"members",label:"Số lượng thành viên",sortable:!1}]}},computed:Object(c["a"])(Object(c["a"])({},Object(n["c"])(["currentUser"])),{},{isAdmin:function(){var t,a=null===(t=this.currentUser)||void 0===t?void 0:t.roles;return!(!a||!a.length)&&a.includes("Admin")}}),methods:{returnPage:function(){this.$router.push({name:"user_portal_list"})},handleUpdate:function(t){this.$router.push({name:"user_portal_detail",params:{form_type:"edit",id:t.id}})},handleInactive:function(t){var a=t.isActive?"Inactive":"Active",e=t.isActive?"btn-inactive":"btn-active";this.$swal({title:"",text:"Bạn có chắc muốn ".concat(a," app user ").concat(t.fullName," không?"),icon:"/media/svg/icons/SweetAlert/alert-triangle-red.svg",buttons:{cancel:{text:"Quay lại",value:!1,visible:!0,className:"btn btn-secondary",closeModal:!0},confirm:{text:"".concat(a),value:!0,visible:!0,className:"btn ".concat(e),closeModal:!0}}}).then(function(a){var e=this;a&&this.inactiveItem(t).then((function(){e.loadUserData(),e.$swal("Thành công!","Chúc mừng, bạn đã cập nhật thông tin người dùng thành công!","success")})).catch((function(){e.$swal("Lỗi!","Đã có lỗi xảy ra.","error")}))}.bind(this))},inactiveItem:function(t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.loading=!0,e.prev=1,s=new FormData,s.append("id",t.id),s.append("active",!t.isActive),e.next=7,a.$api.put("Admin/Account/portal",s);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),a.$toastr.e({title:"Lỗi!",msg:e.t0});case 12:return e.prev=12,a.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})))()},loadUserData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var e,s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.$route.params.id){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,t.loading=!0,e=t.$route.params.id,a.next=7,t.$api.get("Admin/Account/portal/".concat(e));case 7:s=a.sent,r=s.data,t.userData=r,a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](2),t.$toastr.e({title:"Lỗi!",msg:a.t0});case 15:return a.prev=15,t.loading=!1,a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[2,12,15,18]])})))()}},mounted:function(){this.loadUserData()}},o=l,u=e("2877"),d=Object(u["a"])(o,s,r,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-7734fa27.8b6aa279.js.map