(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33d33264"],{"30ab":function(e,t,a){},c59e:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-import-list-page w-100"},[a("basic-subheader",{scopedSlots:e._u([{key:"actions",fn:function(){return[a("b-dropdown",{staticClass:"dropdown-form-filter",attrs:{id:"dropdown-right dropdown-form","no-caret":"",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("span",{staticClass:"svg-icon"},[a("inline-svg",{attrs:{src:"/media/svg/icons/Neolex/Basic/filter.svg"}})],1),e._v(" Bộ lọc ")]},proxy:!0}])},[a("h6",{staticClass:"d-flex align-items-center mb-0 p-4"},[a("span",{staticClass:"svg-icon mr-3"},[a("inline-svg",{attrs:{src:"/media/svg/icons/Neolex/Basic/filter.svg"}})],1),e._v(" Bộ lọc ")]),a("b-dropdown-divider"),a("b-dropdown-form",[a("b-container",{staticClass:"p-0"},[a("b-row",[a("b-col",[a("basic-input",{attrs:{label:"Tên bệnh nhân",placeholder:"Nhập tên bệnh nhân",name:"userCode",value:e.filter.UserCode},on:{"update:value":function(t){return e.$set(e.filter,"UserCode",t)}}})],1),a("b-col",[a("basic-input",{attrs:{label:"Số điện thoại",placeholder:"Nhập số điện thoại",name:"userPhone",value:e.filter.UserPhone},on:{"update:value":function(t){return e.$set(e.filter,"UserPhone",t)}}})],1),a("b-col",[a("label",[e._v("Độ tuổi")]),a("basic-input",{attrs:{placeholder:"Từ",name:"name",inputType:"number",value:e.filter.Username},on:{"update:value":function(t){return e.$set(e.filter,"Username",t)}}})],1),a("b-col",[a("b-col"),a("basic-input",{attrs:{placeholder:"Đến",name:"name",inputType:"number",value:e.filter.Username},on:{"update:value":function(t){return e.$set(e.filter,"Username",t)}}})],1)],1),a("b-row",[a("b-col",[a("basic-select",{attrs:{label:"Gói tham gia",placeholder:"--- Chọn ---",name:"surveyType",options:e.isGenderOpts,solid:!1,allowEmpty:!0}})],1),a("b-col",[a("basic-select",{attrs:{label:"Loại khảo sát",placeholder:"--- Chọn ---",name:"surveyType",options:e.isSurveyTypes,value:e.filter.SurveyType,solid:!1,allowEmpty:!0},on:{"update:value":function(t){return e.$set(e.filter,"SurveyType",t)}}})],1),a("b-col",[a("basic-select",{attrs:{label:"Tên khảo sát",placeholder:"--- Nhập tên khảo sát ---",name:"surveyType",options:e.isSurveyTypes,value:e.filter.SurveyType,solid:!1,allowEmpty:!0},on:{"update:value":function(t){return e.$set(e.filter,"SurveyType",t)}}})],1)],1),a("b-row",[a("b-col",[a("basic-input",{attrs:{label:"Ngày thực hiện khảo sát",placeholder:"Nhập tên khảo sát",name:"name",value:e.filter.SurveyName},on:{"update:value":function(t){return e.$set(e.filter,"SurveyName",t)}}})],1),a("b-col",[a("basic-input",{attrs:{label:"Ngày Import",placeholder:"Nhập tên khảo sát",name:"name",value:e.filter.SurveyName},on:{"update:value":function(t){return e.$set(e.filter,"SurveyName",t)}}})],1)],1)],1)],1),a("b-dropdown-divider"),a("div",{staticClass:"d-flex align-items-center justify-content-lg-end m-0 p-4"},[a("b-button",{staticClass:"btn ml-2",attrs:{href:"#",tabindex:"0"},on:{click:e.resetRequest}},[a("span",{staticClass:"svg-icon"},[a("inline-svg",{attrs:{src:"/media/svg/icons/Neolex/Basic/refresh-cw.svg"}})],1),e._v(" Reset bộ lọc ")]),a("b-button",{staticClass:"btn ml-2",attrs:{href:"#",tabindex:"0"},on:{click:e.searchRequest}},[a("span",{staticClass:"svg-icon"},[a("inline-svg",{attrs:{src:"/media/svg/icons/Neolex/Basic/filter.svg"}})],1),e._v(" Lọc dữ liệu ")])],1)],1),a("b-button",{staticClass:"btn btn-success ml-2",attrs:{type:"button",id:"show-btn"},on:{click:e.handleImportUser}},[e._v(" Import ")])]},proxy:!0}])}),a("b-container",{staticClass:"user-import-list-page__body mb-6 mt-6",attrs:{fluid:""}},[a("b-row",[a("b-col",[a("div",{staticClass:"card card-custom gutter-b"},[a("div",{staticClass:"card-body mt-0"},[a("template-table",{attrs:{column:e.column,data:e.staff_list,paging:e.paging,tableAction:!1,selectAction:!1,searchAction:!1},on:{search:e.searchRequest,reset:e.resetRequest,sortBy:e.sortRequest,input:e.handlePageChange},scopedSlots:e._u([{key:"body",fn:function(t){var s=t.item;return[a("td",[e._v(" "+e._s(s.user_name)+" ")]),a("td",{staticStyle:{width:"20px"}},[a("action-dropdown",{attrs:{value:s,show_edit:!1,show_delete:!1,show_copy:!1},on:{view:e.viewItem,edit:e.editItem,copy:e.copyItem}})],1),a("td",{staticStyle:{"padding-left":"25px"}},[e._v(e._s(s.user_typeofsick))]),a("td",{staticStyle:{"padding-left":"25px"}},[e._v(e._s(e.$moment(1e3*s.import_day).format("DD/MM/YYYY")))]),a("td",[e._v(e._s(s.participation_package))]),a("td",[e._v(e._s(s.survey_type))]),a("td",[e._v(e._s(s.survey_name)),a("br"),e._v("Mã số: "+e._s(s.survey_code)+" ")])]}}])})],1)])])],1)],1),a("user-import-modal",{attrs:{popupType:"popupType"},on:{loadData:e.loadData}})],1)},n=[],i=(a("4de4"),a("d3b7"),a("96cf"),a("1da1")),r=a("5530"),o={components:{"user-import-modal":function(){return Promise.all([a.e("chunk-161c575b"),a.e("chunk-66ef6edc")]).then(a.bind(null,"8f7b"))}},data:function(){return{selected:[],paging:{page:1,pageSize:10,total:10},filter:{searchKey:null},sort:{by:null,order:null},list:{undefined:void 0},column:[{key:"user_name",label:"Bệnh nhân",sortable:!1},{key:"",label:"",sortable:!1},{key:"user_typeofsick",label:"Loại bệnh",sortable:!1},{key:"survey_import",label:"Ngày cập nhập",sortable:!0},{key:"participation_package",label:"Gói tham gia",sortable:!1},{key:"survey_type",label:"Loại khảo sát",sortable:!1},{key:"survey_name",label:"Tên khảo sát",sortable:!1}],staff_list:[],isGenderOpts:[{id:1,name:"Nam"},{id:2,name:"Nữ"}]}},computed:{searchParams:function(){return{page:this.paging.page,size:this.paging.pageSize}}},watch:{paging:{handler:function(){this.loadData(),this.handlePageChange()},deep:!0}},methods:{pagingAction:function(){this.loadData()},createItem:function(){this.$router.push({name:"windown_import",params:{form_type:"create"}})},viewItem:function(e){this.$router.push({name:"user_import_detail",params:{user_code:e.user_code,id:e.id}})},editItem:function(e){this.$router.push({name:"user_group_detail",params:{form_type:"edit",id:e.id}})},searchRequest:function(){},resetRequest:function(){var e=this;this.filter.searchKey=null,this.$nextTick((function(){e.$validator.reset()})),this.loadData()},sortRequest:function(){},loadData:function(){var e=this;this.$store.commit("context/setLoading",!0),this.$api.get("SurveyImportResults/user_import",{params:Object(r["a"])({},this.searchParams)}).then((function(t){e.staff_list=t})).catch((function(t){e.$toastr.e({title:"Lỗi",msg:t})})).finally((function(){e.$store.commit("context/setLoading",!1)}))},handlePageChange:function(e){this.paging.page=e},handleImportUser:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$nextTick((function(){e.$bvModal.show("user-import-modal")}));case 1:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.loadData()}},l=o,c=(a("f94b"),a("2877")),u=Object(c["a"])(l,s,n,!1,null,"a49c4a04",null);t["default"]=u.exports},f94b:function(e,t,a){"use strict";a("30ab")}}]);
//# sourceMappingURL=chunk-33d33264.3955f8e8.js.map